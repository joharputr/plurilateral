(function(f){f.W("ui.rcarousel",{M:function(){var b,a=f(this.element),e=this,d=this.options;this.n(this.options);this.B();b=a.data("data");a.N("ui-carousel").children().X("<div class='wrapper'></div>");this.C();this.q();this.o();this.F();this.D();f(d.navigation.next).click(function(a){e.next();a.preventDefault()});f(d.navigation.g).click(function(a){e.g();a.preventDefault()});b.navigation.next=f(d.navigation.next);b.navigation.g=f(d.navigation.g);a.R(function(){d.c.h&&(clearInterval(b.interval),b.l=
!0)},function(){d.c.h&&(b.l=!1,e.j(d.c.direction))});this.H();d.c.h&&this.j(d.c.direction);this.u("start")},p:function(b,a){var e=f(this.element).find("div.wrapper"),d=this.options;b.width(d.width).height(d.height);"horizontal"===d.orientation?f(b).w("marginRight",d.margin):f(b).w({marginBottom:d.margin,"float":"none"});"prev"===a?e.V(b.v(!0,!0)):e.append(b.v(!0,!0))},append:function(b){var a=f(this.element).data("data");b.k(function(b,d){a.i.push(f(d))});a.A=a.a[a.d].slice(0);a.e=!0;this.q()},j:function(b){var a=
this.options;f(this.element).data("data").interval="next"===b?setTimeout(f.J(this.next,this),a.c.interval):setTimeout(f.J(this.g,this),a.c.interval)},n:function(b){var a,e=this,d="";f.k(b,function(k,c){switch(k){case "visible":if(!c||"number"!==typeof c||0>=c||0<Math.ceil(c)-c)throw Error("visible should be defined as a positive integer");break;case "step":if(!c||"number"!==typeof c||0>=c||0<Math.ceil(c)-c)throw Error("step should be defined as a positive integer");if(c>e.options.visible){for(a=1;a<=
Math.floor(b.visible);a++)d+=a<Math.floor(c)?a+", ":a;throw Error("Only following step values are correct: "+d);}break;case "width":if(!c||"number"!==typeof c||0>=c||0<Math.ceil(c)-c)throw Error("width should be defined as a positive integer");break;case "height":if(!c||"number"!==typeof c||0>=c||0<Math.ceil(c)-c)throw Error("height should be defined as a positive integer");break;case "speed":if(!c&&0!==c)throw Error("speed should be defined as a number or a string");if("number"===typeof c&&0>c)throw Error("speed should be a positive number");
if("string"===typeof c&&"slow"!==c&&"normal"!==c&&"fast"!==c)throw Error('Only "slow", "normal" and "fast" values are valid');break;case "navigation":if(!c||!1===f.S(c))throw Error("navigation should be defined as an object with at least one of the properties: 'prev' or 'next' in it");if(c.g&&"string"!==typeof c.g)throw Error("navigation.prev should be defined as a string and point to '.class' or '#id' of an element");if(c.next&&"string"!==typeof c.next)throw Error(" navigation.next should be defined as a string and point to '.class' or '#id' of an element");
break;case "auto":if("string"!==typeof c.direction)throw Error("direction should be defined as a string");if("next"!==c.direction&&"prev"!==c.direction)throw Error("direction: only 'right' and 'left' values are valid");if(isNaN(c.interval)||"number"!==typeof c.interval||0>c.interval||0<Math.ceil(c.interval)-c.interval)throw Error("interval should be a positive number");break;case "margin":if(isNaN(c)||"number"!==typeof c||0>c||0<Math.ceil(c)-c)throw Error("margin should be a positive number");}})},
B:function(){f(this.element).data("data",{i:[],U:0,a:[],m:[],d:0,b:0,navigation:{},f:!1,e:!1,l:!1})},q:function(){function b(a){for(var b=!1,c=0;c<d.m.length;c++)if(d.m[c].get(0)===a[c].get(0))b=!0;else{b=!1;break}return b}function a(a,b,c){var e=c||d.a.length;for(c||(d.a[e]=[]);a<b;a++)d.a[e].push(d.i[a]);return e}var e=this.options,d=f(this.element).data("data"),k=e.visible,c=d.i.length;(function(){d.a=[];d.m=[];d.a[0]=[];for(var a=c-1;a>=c-k;a--)d.m.unshift(d.i[a]);for(a=0;a<k;a++)d.a[0][d.a[0].length]=
d.i[a]})();(function(){for(var f=!0,m=!1,l=e.step,g,h;!b(d.a[d.a.length-1])||f;)f=!1,g=l+k,g>c&&(g=c),(m=g-l<k?!0:!1)?(m=l-(k-(g-l)),h=m+(k-(g-l)),m=a(m,h),a(l,g,m)):(a(l,g),l+=e.step)})()},O:function(){return f(this.element).data("data").b+1},P:function(){return f(this.element).data("data").a.length},Q:function(b){var a,e=f(this.element).data("data");e.f||b===e.b||(e.f=!0,b>e.a.length-1?b=e.a.length-1:0>b&&(b=0),e.b=b,a=b-e.d,0<=a?this.r(a):this.s(a),e.d=b)},o:function(b,a){var e=this.options,d=
f(this.element).data("data"),k=a||"next",e=b||d.a[e.K],d=e.length;if("next"===k)for(var c=0;c<d;c++)this.p(e[c],k);else for(c=d-1;0<=c;c--)this.p(e[c],k)},s:function(b){var a,e,d,k,c,p,m=f(this.element),l=this,g=this.options,h=f(this.element).data("data");e=h.e?h.A:h.a[h.d];k=h.d+b;a=h.a[k].slice(0);f(a).k(function(a,b){p=b.get(0)===f(e[a]).get(0)?!0:!1});h.e&&p&&(k=0===h.b?h.b=h.a.length-1:--h.b,a=h.a[k].slice(0));b=a[a.length-1].get(0);for(var n=e.length-1;0<=n;n--)if(b===f(e[n]).get(0)){d=!1;c=
n;break}else d=!0;if(!d)for(;0<=c;)a[a.length-1].get(0)===e[c].get(0)&&a.pop(),--c;l.o(a,"prev");d=g.width*a.length+g.margin*a.length;"horizontal"===g.orientation?(c={scrollLeft:0},m.scrollLeft(d)):(c={scrollTop:0},m.scrollTop(d));m.I(c,g.speed,function(){l.t("last",a.length);h.f=!1;!h.l&&g.c.h&&(clearInterval(h.interval),l.j(g.c.direction));l.u("pageLoaded",null,{page:k})});h.e=!1},r:function(b){var a,e,d,k,c,p,m=f(this.element),l=this.options,g=m.data("data"),h=this;e=g.e?g.A:g.a[g.d];k=g.d+b;a=
g.a[k].slice(0);f(a).k(function(a,b){p=b.get(0)===f(e[a]).get(0)?!0:!1});g.e&&p&&(a=g.a[++g.b].slice(0));b=a[0].get(0);for(var n=0;n<a.length;n++)if(b===f(e[n]).get(0)){d=!1;c=n;break}else d=!0;if(!d)for(;c<e.length;)a[0].get(0)===e[c].get(0)&&a.shift(),++c;this.o(a,"next");d=l.width*a.length+l.margin*a.length;m.I("horizontal"===l.orientation?{scrollLeft:"+="+d}:{scrollTop:"+="+d},l.speed,function(){h.t("first",a.length);"horizontal"===l.orientation?m.scrollLeft(0):m.scrollTop(0);g.f=!1;!g.l&&l.c.h&&
(clearInterval(g.interval),h.j(l.c.direction));h.u("pageLoaded",null,{page:k})});g.e=!1},next:function(){var b=f(this.element).data("data");b.f||(b.f=!0,b.e||++b.b,b.b>b.a.length-1&&(b.b=0),this.r(b.b-b.d),b.d=b.b)},g:function(){var b=f(this.element).data("data");b.f||(b.f=!0,b.e||--b.b,0>b.b&&(b.b=b.a.length-1),this.s(b.b-b.d),b.d=b.b)},t:function(b,a){for(var e=f(this.element),d=0;d<a;d++)"first"===b?e.find("div.wrapper").children().first().remove():e.find("div.wrapper").children().T().remove()},
C:function(){var b,a=f(this.element),e=a.find("div.wrapper").children(),d=a.data("data");e.k(function(a,c){b=f(c);d.i.push(b.v(!0,!0));b.remove()})},G:function(b,a){var e,d=this.options;f(this.element).data("data");switch(b){case "speed":this.n({speed:a});d.speed=a;f.L.prototype.G.apply(this,arguments);break;case "auto":e=f.extend(d.c,a),this.n({c:e}),d.c.h&&this.j(d.c.direction)}},H:function(b){var a=this.options,e=f(this.element).data("data");b=b||a.step;a.step=b;e.step=a.width*b},D:function(){var b=
f(this.element);f(this.element).data("data");var a=this.options;b.height("vertical"===a.orientation?a.visible*a.height+a.margin*(a.visible-1):a.height)},F:function(){var b=f(this.element),a=this.options;f(this.element).data("data");b.w({width:"horizontal"===a.orientation?a.visible*a.width+a.margin*(a.visible-1):a.width,overflow:"hidden"})},options:{visible:3,step:3,width:100,height:100,speed:1E3,margin:0,orientation:"horizontal",c:{h:!1,direction:"next",interval:5E3},K:0,navigation:{next:"#ui-carousel-next",
g:"#ui-carousel-prev"}}})})(jQuery);
